<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Portafolio ‚Äì Programaci√≥n Num√©rica (2025-I)</title>
<meta name="description" content="Portafolio acad√©mico de Programaci√≥n Num√©rica ¬∑ 2025-I ¬∑ Jean Carlos Aquino Sandoval ¬∑ FINESI ‚Äì UNA Puno">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Ctext y='32' font-size='32'%3E‚àë%3C/text%3E%3C/svg%3E">
<style>
  :root{
    --bg:#0a0f1e; --panel:#0e152a; --panel-2:#0b1124; --card:#0f1933;
    --text:#eaf0ff; --muted:#a9b6e8;
    --brand:#4f7bff; --brand-2:#1fb598; --accent:#ffc857;
    --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
    --ring:0 0 0 3px rgba(79,123,255,.35);
    --radius:16px; --shadow:0 14px 44px rgba(0,0,0,.42);
    --border:#1a2442; --glass:rgba(255,255,255,.05);
  }
  :root.light{
    --bg:#f6f8ff; --panel:#ffffff; --panel-2:#f1f5ff; --card:#ffffff;
    --text:#0a1022; --muted:#5a6682;
    --brand:#3b5bfd; --brand-2:#18a98c; --accent:#f6a700;
    --ring:0 0 0 3px rgba(59,91,253,.22);
    --shadow:0 16px 46px rgba(20,30,70,.10);
    --border:#e6e9f3; --glass:rgba(0,0,0,.04);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    color:var(--text);
    background:
      radial-gradient(1200px 600px at 85% -10%, #1a2b6e30 0%, transparent 60%),
      radial-gradient(900px 500px at -10% 110%, #13305630 0%, transparent 60%),
      var(--bg);
  }
  a{color:var(--brand); text-decoration:none}
  .app{display:grid; grid-template-columns:300px 1fr; min-height:100vh}

  /* SIDEBAR */
  .sidebar{
    position:sticky; top:0; height:100dvh; overflow:auto;
    background:linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
    border-right:1px solid var(--border); padding:20px;
    backdrop-filter:saturate(140%) blur(8px);
  }
  .brand{display:flex; align-items:center; gap:12px; margin-bottom:16px}
  .logo{width:42px; height:42px; border-radius:12px;
    background:linear-gradient(135deg,var(--brand),var(--brand-2));
    box-shadow:0 8px 22px rgba(79,123,255,.28)}
  .brand h1{font-size:16px; margin:0; line-height:1.2; font-weight:800; letter-spacing:.2px}
  .subbrand{font-size:12px; color:var(--muted); margin-top:2px}
  .nav-title{font-size:12px; color:var(--muted); margin:16px 10px 8px; text-transform:uppercase; letter-spacing:.12em}
  .nav a, .nav button{
    display:flex; align-items:center; gap:10px; width:100%;
    background:transparent; border:0; color:var(--text);
    padding:10px 12px; border-radius:12px; cursor:pointer; text-align:left;
    transition:transform .12s ease, background .2s ease, color .2s ease;
    border:1px solid transparent;
  }
  .nav a:hover, .nav button:hover{ background:var(--glass); border-color:var(--border)}
  .nav a.active, .nav button.active{ background:rgba(79,123,255,.15); outline:var(--ring) }
  .collapse{margin-left:8px; padding-left:8px; border-left:1px dashed var(--border)}
  .badge{margin-left:auto; font-size:11px; color:#0b1020; background:var(--accent); border-radius:999px; padding:2px 8px; font-weight:700}
  .search{display:flex; gap:8px; margin-top:8px}
  .search input{
    width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:var(--panel); color:var(--text)
  }

  /* TOPBAR */
  .topbar{
    position:sticky; top:0; z-index:10; backdrop-filter:saturate(140%) blur(8px);
    background:linear-gradient(180deg, rgba(20,30,60,.35), transparent);
    border-bottom:1px solid var(--border);
  }
  .topbar-wrap{display:flex; align-items:center; justify-content:space-between; padding:14px 24px}
  .greeting{font-weight:800; font-size:20px}
  .mode{display:flex; gap:10px; align-items:center}
  .chiprow{display:flex; gap:8px; flex-wrap:wrap}
  .chip{
    font-size:12px; color:#0b1020; background:linear-gradient(135deg,var(--brand),var(--brand-2));
    padding:6px 10px; border-radius:999px; font-weight:700; box-shadow:0 8px 22px rgba(79,123,255,.25)
  }
  .toggle{appearance:none; width:46px; height:26px; border-radius:999px; position:relative; background:var(--border); cursor:pointer; outline:var(--ring); border:1px solid var(--border)}
  .toggle:checked{background:linear-gradient(135deg,var(--brand),var(--brand-2))}
  .toggle:before{content:""; position:absolute; top:2px; left:2px; width:22px; height:22px; border-radius:50%; background:#fff; transition:left .2s ease}
  .toggle:checked:before{left:22px}

  /* CONTENT */
  .content{padding:24px; display:grid; gap:20px}

  /* CORPORATE SECTION HEADER */
  .section-header{
    position:relative; padding:18px 18px 18px 20px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow);
  }
  .section-header .eyebrow{
    text-transform:uppercase; letter-spacing:.14em; font-size:12px; color:var(--muted); margin-bottom:6px; font-weight:700;
  }
  .section-header h1{
    margin:0; font-size:26px; line-height:1.25; font-weight:800;
  }
  .section-header .desc{
    margin-top:6px; color:var(--muted); max-width:90ch;
  }
  .section-header .accent{
    position:absolute; left:0; top:14px; bottom:14px; width:5px;
    background:linear-gradient(180deg,var(--brand),var(--brand-2)); border-radius:6px;
  }
  .meta{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
  .meta .tag{display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; background:rgba(79,123,255,.15); color:var(--text); font-size:12px; border:1px solid var(--border)}

  .hero{padding:24px; border-radius:18px; border:1px solid var(--border); background:linear-gradient(180deg,var(--panel), color-mix(in oklab,var(--panel-2) 65%, transparent)); box-shadow:var(--shadow)}
  .hero h2{margin:0 0 8px; font-size:28px}
  .hero p{margin:0; color:var(--muted)}

  .grid{display:grid; gap:18px}
  @media(min-width:1024px){ .grid{grid-template-columns:repeat(12,1fr)} }
  .card{
    background:linear-gradient(180deg,var(--panel), color-mix(in oklab,var(--panel-2) 65%, transparent));
    border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px;
  }
  .card h3{margin:0 0 8px}

  .btn{
    display:inline-flex; align-items:center; gap:8px; border:0; cursor:pointer;
    font-weight:700; padding:10px 14px; border-radius:12px; transition:.15s ease; text-decoration:none;
  }
  .btn.primary{ background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#0b1020; box-shadow:0 10px 28px rgba(79,123,255,.25) }
  .btn.ghost{ background:transparent; color:var(--text); border:1px solid var(--border) }
  .btn:hover{ transform:translateY(-1px) }

  section[hidden]{display:none !important}
  .breadcrumbs{color:var(--muted); font-size:13px; margin-bottom:10px}
  .list{display:grid; gap:12px}
  .list .item{display:flex; align-items:center; justify-content:space-between; gap:12px; background:rgba(255,255,255,.02); border:1px solid var(--border); padding:12px 14px; border-radius:12px}

  /* Logos fijos */
  .logo-duo{display:flex; gap:16px; flex-wrap:wrap; align-items:center}
  .logo-box{
    width:150px; height:150px; border-radius:14px; background:var(--glass);
    border:1px solid var(--border); display:grid; place-items:center; overflow:hidden;
  }
  .logo-box img{max-width:100%; max-height:100%; object-fit:contain}

  /* CODE */
  pre{margin:0; white-space:pre; overflow:auto; padding:16px; border-radius:12px; background:rgba(0,0,0,.28); border:1px solid var(--border); color:var(--text); font-size:13px}
  .code-card{display:grid; gap:10px}
  .code-actions{display:flex; gap:10px; flex-wrap:wrap}

  .pdf-row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px}

  .cols-6{grid-column:span 6} .cols-4{grid-column:span 4} .cols-8{grid-column:span 8} .full{grid-column:1/-1}
  .right{display:flex; justify-content:flex-end}
  .mt8{margin-top:8px} .mt12{margin-top:12px} .mt16{margin-top:16px} .mt24{margin-top:24px}
  .small{font-size:13px} .muted{color:var(--muted)}
  .hr{height:1px; background:var(--border); border:0; margin:8px 0 16px}

  /* Editorial blocks */
  .twocol{display:grid; gap:14px}
  @media(min-width:920px){ .twocol{grid-template-columns:1fr 1fr} }
  .callout{border-left:5px solid var(--brand); padding:10px 12px; background:rgba(79,123,255,.10); border-radius:8px}
  .richtext{line-height:1.6; color:var(--muted)}
  .richtext p{margin:0 0 10px}
  .doc-block{
    background:linear-gradient(180deg,var(--panel), color-mix(in oklab,var(--panel-2) 65%, transparent));
    border:1px dashed var(--border); border-radius:14px; padding:16px; color:var(--text);
    font-size:14px; line-height:1.65;
  }
  .doc-block p{margin:0 0 10px}
  .doc-block pre{
    background:rgba(0,0,0,.20); border:1px solid var(--border); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    white-space:pre-wrap; word-break:break-word; font-size:14px;
  }

  /* Back to top */
  .to-top{position:fixed; right:18px; bottom:18px; z-index:999; opacity:0; pointer-events:none; transition:.2s}
  .to-top.show{opacity:1; pointer-events:auto}

  /* Print */
  @media print{
    .sidebar,.topbar,.to-top{display:none}
    .content{padding:0}
    .card,.hero,.section-header{box-shadow:none; border:1px solid #ddd}
  }
</style>
</head>
<body>
<div class="app" role="application">
  <!-- =========== SIDEBAR =========== -->
  <aside class="sidebar" aria-label="Barra lateral de navegaci√≥n">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>Portafolio ‚Äì Programaci√≥n Num√©rica</h1>
        <div class="subbrand">2025-I ¬∑ C/C++ ¬∑ Python ¬∑ Excel</div>
      </div>
    </div>

    <nav class="nav" role="navigation">
      <div class="nav-title">Navegaci√≥n</div>
      <a href="#home" data-link class="active">Inicio</a>
      <button class="active" id="btn-u1" aria-expanded="true" aria-controls="u1-collapse">Unidad 1 <span class="badge">5 actividades</span></button>
      <div class="collapse" id="u1-collapse">
        <a href="#u1" data-link>Portada U1</a>
        <a href="#u1-rec-func" data-link>Reconocimiento de Funciones</a>
        <a href="#u1-lineales" data-link>Graficar Funciones Lineales</a>
        <a href="#u1-restricciones" data-link>Restricciones y Sistemas</a>
        <a href="#u1-regula" data-link>Regula Falsi</a>
        <a href="#u1-newton" data-link>Newton-Raphson</a>
      </div>

      <div class="nav-title">Buscar</div>
      <div class="search">
        <input id="q" type="search" placeholder="Filtrar‚Ä¶ (newton, regula, lineal)" aria-label="Buscar actividades">
      </div>
    </nav>
  </aside>

  <!-- =========== MAIN =========== -->
  <main>
    <!-- TOPBAR -->
    <div class="topbar" role="banner">
      <div class="topbar-wrap">
        <div class="greeting" id="greeting">Buenas noches, bienvenido a mi portafolio</div>
        <div class="mode">
          <div class="chiprow">
            <div class="chip">Estudiante: <strong>&nbsp;Jean Carlos Aquino Sandoval</strong></div>
            <div class="chip">Docente: <strong>&nbsp;Torres Cruz Fred</strong></div>
            <div class="chip">Secci√≥n: <strong>&nbsp;A</strong></div>
          </div>
          <label class="small muted" for="theme">Modo</label>
          <input class="toggle" id="theme" type="checkbox" aria-label="Cambiar modo claro/oscuro">
        </div>
      </div>
    </div>

    <div class="content">
      <!-- ========== HOME ========== -->
      <section id="home">
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Presentaci√≥n</div>
          <h1>Portafolio del curso Programaci√≥n Num√©rica</h1>
          <p class="desc">Compendio de actividades, reportes y c√≥digo del semestre 2025-I. Enfoque **corporativo** orientado a claridad, trazabilidad y reproducibilidad, integrando <strong>C/C++</strong>, <strong>Python</strong> y <strong>Excel</strong>.</p>
          <div class="meta">
            <span class="tag">FINESI ‚Äì Universidad Nacional del Altiplano</span>
            <span class="tag">Convergencia y estabilidad</span>
            <span class="tag">Buenas pr√°cticas</span>
          </div>
        </div>

        <div class="hero mt16">
          <h2 class="mb0">Identidad institucional</h2>
          <p class="small muted mt8">Logotipos oficiales (Universidad y Facultad/Escuela).</p>
          <div class="logo-duo mt12">
            <div class="logo-box" aria-label="Logo Universidad Nacional del Altiplano">
              <img src="una.png" alt="Logo Universidad Nacional del Altiplano" />
            </div>
            <div class="logo-box" aria-label="Logo FINESI">
              <img src="finesi.jpg" alt="Logo FINESI" />
            </div>
          </div>
        </div>

        <div class="grid mt16">
          <div class="card cols-8">
            <h3>Alcance del curso</h3>
            <div class="twocol">
              <div class="richtext">
                <p>La programaci√≥n num√©rica aborda problemas donde la soluci√≥n exacta es inviable: b√∫squeda de ra√≠ces, sistemas, optimizaci√≥n e integraci√≥n. Se prioriza <strong>estabilidad</strong>, <strong>an√°lisis de error</strong> y <strong>criterios de parada</strong>.</p>
              </div>
              <div class="callout small">
                <strong>Objetivo:</strong> evidenciar progreso t√©cnico con entregables claros (PDF y c√≥digo), justificaci√≥n te√≥rica y verificaci√≥n experimental.
              </div>
            </div>
            <div class="mt16">
              <a class="btn ghost" href="#u1" data-link>Explorar Unidad 1</a>
              <a class="btn primary" href="#u1-rec-func" data-link>Ir a Actividades</a>
            </div>
          </div>

          <div class="card cols-4">
            <h3>Estructura</h3>
            <div class="list">
              <div class="item"><span><strong>Unidad 1</strong> ¬∑ Fundamentos, representaci√≥n y ra√≠ces</span><a class="btn ghost" href="#u1" data-link>Abrir</a></div>
              <div class="item"><span><strong>Unidad 2</strong> ¬∑ Interpolaci√≥n e integraci√≥n</span><span class="tag">Pr√≥ximamente</span></div>
            </div>
          </div>
        </div>
      </section>

      <!-- ========== U1 PORTADA ========== -->
      <section id="u1" hidden>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Universidad Nacional del Altiplano ‚Äì FINESI</div>
          <h1>Unidad 1 ¬∑ Temas y trabajos</h1>
          <p class="desc">Formulaci√≥n de funciones, representaci√≥n y m√©todos de ra√≠ces (Regula Falsi y Newton-Raphson). Se enfatiza interpretaci√≥n gr√°fica y diagn√≥stico de convergencia.</p>
        </div>

        <div class="card mt16">
          <h3>Actividades</h3>
          <ul id="u1-list">
            <li><a href="#u1-rec-func" data-link>Reconocimiento de Funciones</a></li>
            <li><a href="#u1-lineales" data-link>Graficar Funciones Lineales</a></li>
            <li><a href="#u1-restricciones" data-link>Restricciones y Sistemas de Ecuaciones</a></li>
            <li><a href="#u1-regula" data-link>M√©todo de Regula Falsi</a></li>
            <li><a href="#u1-newton" data-link>M√©todo de Newton-Raphson</a></li>
          </ul>
          <div class="right mt16"><a class="btn ghost" href="#home" data-link>Volver al inicio</a></div>
        </div>
      </section>

      <!-- ========== U1: RECONOCIMIENTO DE FUNCIONES ========== -->
      <section id="u1-rec-func" hidden>
        <div class="breadcrumbs">Inicio / Unidad 1 / Reconocimiento de Funciones</div>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Actividad del curso</div>
          <h1>Unidad 1 ‚Äì Reconocimiento de Funciones</h1>
          <div class="desc richtext">
            <p><strong>Descripci√≥n mejorada.</strong> Se desarrolla un programa que, a partir de una funci√≥n matem√°tica ingresada por el usuario con un m√°ximo de dos variables, <em>identifica</em> dichas variables y <em>cuantifica</em> el n√∫mero de operaciones presentes. Se consideran sumas, restas, multiplicaciones, divisiones, potencias y <strong>multiplicaciones impl√≠citas</strong> (como <code>5x</code> o <code>xy</code>), evitando confundir nombres de funciones (<code>sin</code>, <code>log</code>, <code>sqrt</code>, etc.) con variables. El resultado presenta: variables detectadas, n√∫mero de variables distintas y total de operaciones encontradas.</p>
            <div class="twocol mt12">
              <div>
                <p><strong>Objetivos de aprendizaje</strong></p>
                <ul class="small">
                  <li>Diferenciar s√≠mbolos de funci√≥n y variables.</li>
                  <li>Detectar y contar operadores expl√≠citos e impl√≠citos.</li>
                  <li>Resumir m√©tricas de complejidad de la expresi√≥n.</li>
                </ul>
              </div>
              <div>
                <p><strong>Entradas y salidas</strong></p>
                <ul class="small">
                  <li><em>Entrada:</em> cadena con la expresi√≥n (hasta 2 variables).</li>
                  <li><em>Salida:</em> listado de variables, conteos por operador y total.</li>
                </ul>
              </div>
            </div>
          </div>
          <div class="meta">
            <span class="tag">Validaci√≥n de entradas</span>
            <span class="tag">Detecci√≥n de impl√≠citas</span>
            <span class="tag">Resumen de conteos</span>
          </div>
        </div>

        <div class="card mt16">
          <h3>Material</h3>
          <div class="pdf-row">
            <a class="btn ghost" href="pdf1.pdf" target="_blank" rel="noopener">PDF</a>
            <a class="btn primary" href="pdf1.pdf" download>PDF</a>
          </div>
        </div>

        <div class="card mt16">
          <div class="code-card">
            <div class="right small muted">Archivo: <code>analizador_funciones.py</code></div>
            <div class="code-actions">
              <button class="btn primary" data-copy="#code-rec">Copiar</button>
              <button class="btn ghost" data-download="#code-rec" data-filename="analizador_funciones.py">Descargar .py</button>
            </div>
            <pre id="code-rec">
// analizador de funciones //
import tkinter as tk
from tkinter import ttk, messagebox

# ===============================
# Funci√≥n principal de an√°lisis
# ===============================
def analizar(event=None):
    expresion = entrada.get()

    if not expresion.strip():
        messagebox.showwarning("Error", "Por favor ingresa una funci√≥n matem√°tica.")
        return

    variables = set()
    operaciones = 0

    for i, c in enumerate(expresion):
        if c.isalpha():
            variables.add(c)
        elif c in "+-*/^":
            operaciones += 1

        # Detecci√≥n de multiplicaci√≥n impl√≠cita
        if i < len(expresion) - 1:
            siguiente = expresion[i + 1]
            if c.isdigit() and siguiente.isalpha():
                operaciones += 1
            elif c.isalpha() and siguiente.isalpha():
                operaciones += 1

    resultado_texto = (
        f"üì° An√°lisis completado:\n\n"
        f"üî∏ Variables encontradas: {', '.join(sorted(variables)) if variables else 'Ninguna'}\n"
        f"üî∏ N√∫mero de variables: {len(variables)}\n"
        f"üî∏ N√∫mero de operaciones: {operaciones}"
    )

    resultado.configure(state="normal")
    resultado.delete("1.0", "end")
    resultado.insert("1.0", resultado_texto)
    resultado.configure(state="disabled")


# ===============================
# Funci√≥n para limpiar la entrada
# ===============================
def limpiar():
    entrada.delete(0, "end")
    resultado.configure(state="normal")
    resultado.delete("1.0", "end")
    resultado.configure(state="disabled")


# ===============================
# Ventana principal
# ===============================
ventana = tk.Tk()
ventana.title("üöÄ Analizador Matem√°tico Avanzado")
ventana.geometry("600x400")
ventana.resizable(False, False)
ventana.configure(bg="#0B0C10")  # Fondo oscuro espacial

# ===============================
# Estilos personalizados
# ===============================
estilo = ttk.Style()
estilo.theme_use("clam")

# Botones estilo futurista
estilo.configure(
    "BotonFuturista.TButton",
    font=("Segoe UI Semibold", 11),
    padding=8,
    background="#1F2833",
    foreground="#66FCF1",
    borderwidth=0,
)
estilo.map(
    "BotonFuturista.TButton",
    background=[("active", "#45A29E"), ("disabled", "#1F2833")],
    foreground=[("active", "white")]
)

# Entrada
estilo.configure(
    "EntradaFuturista.TEntry",
    fieldbackground="#1F2833",
    foreground="#C5C6C7",
    insertcolor="#66FCF1",
    padding=6,
    relief="flat",
)

# ===============================
# T√≠tulo
# ===============================
titulo = tk.Label(
    ventana,
    text="üî≠ Analizador de Funciones Matem√°ticas",
    font=("Orbitron", 16, "bold"),
    fg="#66FCF1",
    bg="#0B0C10",
)
titulo.pack(pady=(20, 10))

# ===============================
# Marco de entrada
# ===============================
marco_entrada = tk.Frame(ventana, bg="#0B0C10")
marco_entrada.pack(pady=5)

entrada = ttk.Entry(
    marco_entrada,
    font=("Consolas", 14),
    width=30,
    style="EntradaFuturista.TEntry",
)
entrada.pack(side="left", padx=10)

btn_analizar = ttk.Button(
    marco_entrada,
    text="Analizar",
    style="BotonFuturista.TButton",
    command=analizar
)
btn_analizar.pack(side="left", padx=5)

btn_limpiar = ttk.Button(
    marco_entrada,
    text="Limpiar",
    style="BotonFuturista.TButton",
    command=limpiar
)
btn_limpiar.pack(side="left", padx=5)

ventana.bind("<Return>", analizar)  # Presionar Enter para analizar

# ===============================
# Marco de resultados
# ===============================
marco_resultado = tk.LabelFrame(
    ventana,
    text="üìä RESULTADOS",
    font=("Segoe UI", 11, "bold"),
    fg="#66FCF1",
    bg="#0B0C10",
    labelanchor="n",
    bd=2,
    relief="groove"
)
marco_resultado.pack(fill="both", expand=True, padx=20, pady=15)

# Caja de texto con scroll
scrollbar = tk.Scrollbar(marco_resultado)
scrollbar.pack(side="right", fill="y")

resultado = tk.Text(
    marco_resultado,
    font=("Consolas", 12),
    bg="#1F2833",
    fg="#C5C6C7",
    relief="flat",
    wrap="word",
    yscrollcommand=scrollbar.set,
    state="disabled"
)
resultado.pack(fill="both", expand=True, padx=10, pady=10)
scrollbar.config(command=resultado.yview)

# ===============================
# Iniciar
# ===============================
ventana.mainloop()
            </pre>
          </div>
        </div>

        <div class="right mt16"><a class="btn ghost" href="#u1" data-link>Volver a Actividades de la Unidad 1</a></div>
      </section>

      <!-- ========== U1: LINEALES ========== -->
      <section id="u1-lineales" hidden>
        <div class="breadcrumbs">Inicio / Unidad 1 / Graficar Funciones Lineales</div>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Actividad del curso</div>
          <h1>Unidad 1 ‚Äì Graficar Funciones Lineales (ASCII)</h1>
          <div class="desc richtext">
            <p><strong>Descripci√≥n mejorada.</strong> Una funci√≥n es una relaci√≥n entre dos conjuntos que asocia a cada entrada <em>x</em> un √∫nico valor de salida <em>y</em>, denotado <code>y = f(x)</code>. Las <strong>funciones lineales</strong> se modelan como <code>f(x) = m¬∑x + b</code>, donde <em>m</em> es la pendiente (inclinaci√≥n de la recta) y <em>b</em> la ordenada al origen (punto de corte con el eje <em>y</em>).</p>
            <p>Se implementa un programa en Python ‚Äî<em>sin</em> librer√≠as gr√°ficas‚Äî capaz de reconocer dos expresiones lineales y generar un <strong>gr√°fico ASCII</strong> en un plano cartesiano con rango est√°ndar de ¬±20 unidades. El resultado muestra ejes, origen e intersecci√≥n aproximada, facilitando la interpretaci√≥n de pendientes y cortes.</p>
          </div>
          <div class="meta">
            <span class="tag">Visualizaci√≥n ASCII</span>
            <span class="tag">Intersecci√≥n de rectas</span>
            <span class="tag">Sin librer√≠as gr√°ficas</span>
          </div>
        </div>

        <div class="card mt16">
          <h3>Material</h3>
          <div class="pdf-row">
            <a class="btn ghost" href="pdf2.pdf" target="_blank" rel="noopener">PDF</a>
            <a class="btn primary" href="pdf2.pdf" download>PDF</a>
          </div>
        </div>

        <div class="card mt16">
          <div class="code-card">
            <div class="right small muted">Archivo: <code>graficar_lineales_ascii.py</code></div>
            <div class="code-actions">
              <button class="btn primary" data-copy="#code-lineal">Copiar</button>
              <button class="btn ghost" data-download="#code-lineal" data-filename="graficar_lineales_ascii.py">Descargar .py</button>
            </div>
            <pre id="code-lineal">
              
// graficador ASCII//
import tkinter as tk
from tkinter import ttk, messagebox

# ===============================
# Funci√≥n para preparar expresiones lineales
# ===============================
def preparar_expresion(expr: str) -> str:
    expr = expr.replace(" ", "")          # quitar espacios
    expr = expr.replace("^", "**")        # potencia
    expr = expr.replace("-x", "-1*x")     # caso -x
    expr = expr.replace("+x", "+1*x")     # caso +x
    if expr.startswith("x"):              # si empieza con x
        expr = "1*" + expr
    expr = expr.replace("x", "*x")        # poner multiplicaci√≥n
    expr = expr.replace("**x", "*x")      # corregir si se duplic√≥
    return expr

# ===============================
# Funci√≥n para graficar las funciones en ASCII
# ===============================
def graficar():
    f1 = entrada1.get()
    f2 = entrada2.get()

    if not f1.strip() or not f2.strip():
        messagebox.showwarning("Error", "Por favor ingresa ambas funciones.")
        return

    func1 = preparar_expresion(f1)
    func2 = preparar_expresion(f2)

    xmin, xmax = -20, 20
    ymin, ymax = -20, 20

    resultado_texto = ""

    for y in range(ymax, ymin - 1, -1):
        linea = ""
        for x in range(xmin, xmax + 1):
            try:
                y1 = eval(func1)
            except:
                y1 = None
            try:
                y2 = eval(func2)
            except:
                y2 = None

            cond1 = (y1 is not None and abs(y - y1) < 0.5)
            cond2 = (y2 is not None and abs(y - y2) < 0.5)

            if cond1 and cond2:
                linea += "#"
            elif cond1:
                linea += "*"
            elif cond2:
                linea += "o"
            elif x == 0 and y == 0:
                linea += "+"
            elif x == 0:
                linea += "|"
            elif y == 0:
                linea += "-"
            else:
                linea += " "
        resultado_texto += linea + "\n"

    # Leyenda
    resultado_texto += "\nLeyenda del gr√°fico:\n"
    resultado_texto += "  * = Funci√≥n 1\n"
    resultado_texto += "  o = Funci√≥n 2\n"
    resultado_texto += "  # = Intersecci√≥n\n"
    resultado_texto += "  | = Eje Y\n"
    resultado_texto += "  - = Eje X\n"
    resultado_texto += "  + = Origen (0,0)\n"

    resultado.configure(state="normal")
    resultado.delete("1.0", "end")
    resultado.insert("1.0", resultado_texto)
    resultado.configure(state="disabled")

# ===============================
# Funci√≥n para limpiar entradas
# ===============================
def limpiar():
    entrada1.delete(0, "end")
    entrada2.delete(0, "end")
    resultado.configure(state="normal")
    resultado.delete("1.0", "end")
    resultado.configure(state="disabled")

# ===============================
# Ventana principal
# ===============================
ventana = tk.Tk()
ventana.title("üöÄ Graficador Futurista de Funciones")
ventana.geometry("700x500")
ventana.resizable(False, False)
ventana.configure(bg="#0B0C10")

# ===============================
# Estilos
# ===============================
estilo = ttk.Style()
estilo.theme_use("clam")

estilo.configure(
    "BotonFuturista.TButton",
    font=("Segoe UI Semibold", 11),
    padding=8,
    background="#1F2833",
    foreground="#66FCF1",
    borderwidth=0,
)
estilo.map(
    "BotonFuturista.TButton",
    background=[("active", "#45A29E"), ("disabled", "#1F2833")],
    foreground=[("active", "white")]
)

estilo.configure(
    "EntradaFuturista.TEntry",
    fieldbackground="#1F2833",
    foreground="#C5C6C7",
    insertcolor="#66FCF1",
    padding=6,
    relief="flat",
)

# ===============================
# T√≠tulo
# ===============================
titulo = tk.Label(
    ventana,
    text="üåå Graficador ASCII de Funciones",
    font=("Orbitron", 16, "bold"),
    fg="#66FCF1",
    bg="#0B0C10",
)
titulo.pack(pady=(20, 10))

# ===============================
# Marco de entradas
# ===============================
marco_entrada = tk.Frame(ventana, bg="#0B0C10")
marco_entrada.pack(pady=5)

entrada1 = ttk.Entry(
    marco_entrada,
    font=("Consolas", 14),
    width=25,
    style="EntradaFuturista.TEntry",
)
entrada1.pack(side="left", padx=5)
entrada1.insert(0, "Ej: 3x+2")

entrada2 = ttk.Entry(
    marco_entrada,
    font=("Consolas", 14),
    width=25,
    style="EntradaFuturista.TEntry",
)
entrada2.pack(side="left", padx=5)
entrada2.insert(0, "Ej: -x+6")

btn_graficar = ttk.Button(
    marco_entrada,
    text="Graficar",
    style="BotonFuturista.TButton",
    command=graficar
)
btn_graficar.pack(side="left", padx=5)

btn_limpiar = ttk.Button(
    marco_entrada,
    text="Limpiar",
    style="BotonFuturista.TButton",
    command=limpiar
)
btn_limpiar.pack(side="left", padx=5)

ventana.bind("<Return>", lambda e: graficar())

# ===============================
# Marco de resultados
# ===============================
marco_resultado = tk.LabelFrame(
    ventana,
    text="üìä RESULTADOS",
    font=("Segoe UI", 11, "bold"),
    fg="#66FCF1",
    bg="#0B0C10",
    labelanchor="n",
    bd=2,
    relief="groove"
)
marco_resultado.pack(fill="both", expand=True, padx=20, pady=15)

scrollbar = tk.Scrollbar(marco_resultado)
scrollbar.pack(side="right", fill="y")

resultado = tk.Text(
    marco_resultado,
    font=("Consolas", 12),
    bg="#1F2833",
    fg="#C5C6C7",
    relief="flat",
    wrap="word",
    yscrollcommand=scrollbar.set,
    state="disabled"
)
resultado.pack(fill="both", expand=True, padx=10, pady=10)
scrollbar.config(command=resultado.yview)

# ===============================
# Iniciar
# ===============================
ventana.mainloop()

            </pre>
          </div>
        </div>

        <div class="right mt16"><a class="btn ghost" href="#u1" data-link>Volver a Actividades de la Unidad 1</a></div>
      </section>

      <!-- ========== U1: RESTRICCIONES (texto exacto + ZIP) ========== -->
      <section id="u1-restricciones" hidden>
        <div class="breadcrumbs">Inicio / Unidad 1 / Restricciones y Sistemas</div>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Actividad del curso</div>
          <h1>Unidad 1 ‚Äì Restricciones y Sistemas de Ecuaciones</h1>
          <div class="desc richtext">
            <p><strong>Descripci√≥n mejorada.</strong> Las <strong>restricciones</strong> limitan el conjunto de valores posibles de las variables y determinan la **regi√≥n factible**. Son esenciales en optimizaci√≥n y sistemas de ecuaciones para caracterizar soluciones viables. En esta actividad se proponen cinco casos pr√°cticos y se solicita su representaci√≥n gr√°fica, reutilizando el graficador del trabajo anterior para contrastar fronteras y combinaciones v√°lidas.</p>
          </div>
          <div class="meta">
            <span class="tag">Modelado</span>
            <span class="tag">Regi√≥n factible</span>
            <span class="tag">Representaci√≥n</span>
          </div>
        </div>

        <div class="card mt16">
          <h3>Ejercicios (texto exacto)</h3>
          <div class="doc-block">
            <p><strong>Descripci√≥n</strong><br>
            Las restricciones son condiciones que limitan el conjunto de valores posibles que pueden tomar las variables en un problema. Estas son esenciales en problemas de optimizaci√≥n y en sistemas de ecuaciones, ya que definen la regi√≥n factible, es decir, el espacio de soluciones posibles. En ese sentido se proponen 5 ejercicios que deben ser desarrollados utilizando las restricciones y el c√≥digo del anterior trabajo para realizar una representaci√≥n gr√°fica.</p>

            <pre>
Un desarrollador tiene 15 horas semanales para dedicar al desarrollo de software de front-end (x) y back-end (y). Adem√°s:
‚Ä¢ Debe dedicar al menos 5 horas al desarrollo de front-end para cumplir con los entregables del cliente.
‚Ä¢ El tiempo total no puede exceder 15 horas por restricciones de tiempo del sprint.
Formule las restricciones, repres√©ntelas gr√°ficamente e identifique las combinaciones posibles de tiempo a invertir en cada actividad.

Un ingeniero de datos administra dos tipos de servidores en la nube: Servidores A y Servidores B. El costo por hora de Servidor A es S/3 y de Servidor B es S/5. El presupuesto m√°ximo semanal asignado para mantener los servidores es de S/20.
Determine cu√°ntas horas puede mantener activos cada tipo de servidor, formule el sistema de ecuaciones y repres√©ntelo gr√°ficamente.

Un administrador de proyectos tecnol√≥gicos organiza su tiempo entre reuniones con stakeholders (x) y trabajo en la documentaci√≥n t√©cnica (y). Las reuniones requieren al menos 4 horas semanales y la documentaci√≥n al menos 6 horas. Si dispone de 12 horas para ambas actividades,
determine la regi√≥n factible y analice las combinaciones posibles de tiempo.

Una empresa de desarrollo de videojuegos produce dos tipos de assets: Modelos 3D (P‚ÇÅ) y Texturas (P‚ÇÇ). Cada modelo 3D requiere 2 horas de trabajo y cada textura requiere 3 horas. El equipo de arte tiene un total de 18 horas disponibles semanalmente.
Formule las restricciones, repres√©ntelas gr√°ficamente y determine cu√°ntos assets de cada tipo pueden producirse en funci√≥n del tiempo disponible.

Una startup de hardware dispone de un m√°ximo de 50 unidades de componentes electr√≥nicos. Para ensamblar un dispositivo tipo A se necesitan 5 unidades y para un dispositivo tipo B se necesitan 10 unidades.
Determine cu√°ntos dispositivos de cada tipo puede ensamblar sin exceder las 50 unidades de componentes. Formule el problema, resu√©lvalo gr√°ficamente y explique las posibles combinaciones de producci√≥n.
            </pre>
          </div>

          <div class="pdf-row mt12">
            <a class="btn ghost" href="pdf3.pdf" target="_blank" rel="noopener">PDF</a>
            <a class="btn primary" href="pdf3.pdf" download>PDF</a>
            <a class="btn ghost" href="codigo.zip" download>Descargar c√≥digos (.zip)</a>
          </div>
        </div>

        <div class="right mt16"><a class="btn ghost" href="#u1" data-link>Volver a Actividades de la Unidad 1</a></div>
      </section>

      <!-- ========== U1: REGULA FALSI (solo descripci√≥n mejorada) ========== -->
      <section id="u1-regula" hidden>
        <div class="breadcrumbs">Inicio / Unidad 1 / Regula Falsi</div>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Actividad del curso</div>
          <h1>Unidad 1 ‚Äì M√©todo de Regula Falsi</h1>
          <div class="desc richtext">
            <p><strong>Descripci√≥n mejorada.</strong> El m√©todo de la <strong>Regula Falsi</strong> (o falsa posici√≥n) es un procedimiento por intervalos para hallar ra√≠ces reales de <code>f(x)=0</code>. Parte de un tramo <code>[a,b]</code> tal que <code>f(a)¬∑f(b)&lt;0</code>, lo que asegura un cambio de signo y la existencia de al menos una ra√≠z. En cada iteraci√≥n se traza la secante entre <code>(a,f(a))</code> y <code>(b,f(b))</code> y se toma su intersecci√≥n con el eje <em>x</em> como aproximaci√≥n; luego se actualiza el extremo que preserva el cambio de signo, manteniendo acotada la soluci√≥n.</p>
            <p>El m√©todo combina la <em>robustez</em> del enfoque por bisecci√≥n (la ra√≠z nunca escapa del intervalo) con una <em>direccionalidad</em> propia de la secante, que suele acelerar el acercamiento a la ra√≠z. En casos de estancamiento por curvatura, la variante <strong>Illinois</strong> aten√∫a el peso de un extremo para recuperar progreso. Los criterios de parada habituales son una tolerancia en <code>|f(x)|</code> y/o en la longitud de <code>[a,b]</code>, adem√°s de un m√°ximo de iteraciones.</p>
          </div>
          <div class="meta">
            <span class="tag">Intervalo con cambio de signo</span>
            <span class="tag">Interpolaci√≥n lineal</span>
            <span class="tag">Criterios de parada</span>
          </div>
        </div>

        <div class="card mt16">
          <h3>Material</h3>
          <div class="pdf-row">
            <a class="btn ghost" href="pdf4.pdf" target="_blank" rel="noopener">PDF</a>
            <a class="btn primary" href="pdf4.pdf" download>PDF</a>
          </div>
        </div>

        <div class="right mt16"><a class="btn ghost" href="#u1" data-link>Volver a Actividades de la Unidad 1</a></div>
      </section>

      <!-- ========== U1: NEWTON-RAPHSON ========== -->
      <section id="u1-newton" hidden>
        <div class="breadcrumbs">Inicio / Unidad 1 / Newton-Raphson</div>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Actividad del curso</div>
          <h1>Unidad 1 ‚Äì M√©todo de Newton-Raphson</h1>
          <div class="desc richtext">
            <p><strong>Descripci√≥n mejorada.</strong> El m√©todo de <strong>Newton‚ÄìRaphson</strong> aproxima ra√≠ces reales de funciones continuas y derivables mediante la actualizaci√≥n <code>x‚Çô‚Çä‚ÇÅ = x‚Çô ‚àí f(x‚Çô)/f‚Äô(x‚Çô)</code>. Se interpreta como la intersecci√≥n de la recta tangente en <code>x‚Çô</code> con el eje <em>x</em>. Con un punto inicial adecuado y funciones suaves, su convergencia suele ser <em>cuadr√°tica</em>, es decir, muy r√°pida.</p>
            <p><strong>Aplicaci√≥n en Python.</strong> Primero se grafica <code>f(x)</code> en un intervalo definido por el usuario para identificar visualmente zonas con posibles ra√≠ces. Si se confirma, se solicita un valor inicial <code>x‚ÇÅ</code> y se ejecuta Newton‚ÄìRaphson con derivada num√©rica central, controles ante pendientes casi nulas y criterios de parada por tolerancia y por iteraciones m√°ximas. El programa reporta la ra√≠z aproximada y el n√∫mero de iteraciones, y muestra la traza de los puntos generados.</p>
          </div>
          <div class="meta">
            <span class="tag">Convergencia cuadr√°tica</span>
            <span class="tag">Salvaguardas</span>
            <span class="tag">Visualizaci√≥n</span>
          </div>
        </div>

        <div class="card mt16">
          <h3>Material</h3>
          <div class="pdf-row">
            <a class="btn ghost" href="pdf5.pdf" target="_blank" rel="noopener">PDF</a>
            <a class="btn primary" href="pdf5.pdf" download>PDF</a>
          </div>
        </div>

        <div class="card mt16">
          <div class="code-card">
            <div class="right small muted">Archivo: <code>newton_raphson_plot.py</code></div>
            <div class="code-actions">
              <button class="btn primary" data-copy="#code-newton">Copiar</button>
              <button class="btn ghost" data-download="#code-newton" data-filename="newton_raphson_plot.py">Descargar .py</button>
            </div>
            <pre id="code-newton">
              
// metodo newton raphson //
              
import tkinter as tk
from tkinter import ttk, messagebox

# =============================== FUNCIONES ===============================
def f1(x):
    try:
        return eval(func1_str)
    except:
        return None

def f2(x):
    try:
        return eval(func2_str)
    except:
        return None

def graficar_canvas():
    # Limpiar canvas
    canvas.delete("all")

    # Obtener rangos
    try:
        xmin = float(entrada_xmin.get())
        xmax = float(entrada_xmax.get())
        ymin = float(entrada_ymin.get())
        ymax = float(entrada_ymax.get())
    except:
        messagebox.showerror("Error", "Rangos inv√°lidos")
        return

    ancho = int(canvas["width"])
    alto = int(canvas["height"])

    def coord_to_pixel(x, y):
        px = (x - xmin) / (xmax - xmin) * ancho
        py = alto - (y - ymin) / (ymax - ymin) * alto
        return px, py

    # Dibujar ejes
    # Eje X
    px0, py0 = coord_to_pixel(xmin, 0)
    px1, py1 = coord_to_pixel(xmax, 0)
    canvas.create_line(px0, py0, px1, py1, fill="white")
    # Eje Y
    px0, py0 = coord_to_pixel(0, ymin)
    px1, py1 = coord_to_pixel(0, ymax)
    canvas.create_line(px0, py0, px1, py1, fill="white")

    # Dibujar funci√≥n 1
    if func1_str:
        prev = None
        for i in range(1000):
            x = xmin + i*(xmax - xmin)/999
            y = f1(x)
            if y is not None:
                px, py = coord_to_pixel(x, y)
                if prev:
                    canvas.create_line(prev[0], prev[1], px, py, fill="cyan", width=2)
                prev = (px, py)
            else:
                prev = None

    # Dibujar funci√≥n 2
    if func2_str:
        prev = None
        for i in range(1000):
            x = xmin + i*(xmax - xmin)/999
            y = f2(x)
            if y is not None:
                px, py = coord_to_pixel(x, y)
                if prev:
                    canvas.create_line(prev[0], prev[1], px, py, fill="orange", width=2)
                prev = (px, py)
            else:
                prev = None

# =============================== INTERFAZ ===============================
ventana = tk.Tk()
ventana.title("üöÄ Graficador estilo Geogebra")
ventana.geometry("900x600")
ventana.configure(bg="#0B0C10")

# Estilo botones
estilo = ttk.Style()
estilo.theme_use("clam")
estilo.configure(
    "BotonFuturista.TButton",
    font=("Segoe UI Semibold", 11),
    padding=8,
    background="#1F2833",
    foreground="#66FCF1",
    borderwidth=0
)
estilo.map(
    "BotonFuturista.TButton",
    background=[("active", "#45A29E")],
    foreground=[("active", "white")]
)

# T√≠tulo
titulo = tk.Label(
    ventana,
    text="üåå Graficador estilo Geogebra",
    font=("Arial", 16, "bold"),
    fg="#66FCF1",
    bg="#0B0C10"
)
titulo.pack(pady=(10,5))

# Entradas funciones
marco_func = tk.Frame(ventana, bg="#0B0C10")
marco_func.pack(pady=5)

tk.Label(marco_func, text="f1(x) = ", fg="#66FCF1", bg="#0B0C10").pack(side="left")
entrada_func1 = tk.Entry(marco_func, width=20)
entrada_func1.pack(side="left", padx=5)
tk.Label(marco_func, text="f2(x) = ", fg="#66FCF1", bg="#0B0C10").pack(side="left")
entrada_func2 = tk.Entry(marco_func, width=20)
entrada_func2.pack(side="left", padx=5)

def guardar_func():
    global func1_str, func2_str
    func1_str = entrada_func1.get()
    func2_str = entrada_func2.get()
    messagebox.showinfo("Funciones guardadas", "Funciones actualizadas correctamente")

btn_guardar_func = ttk.Button(marco_func, text="Guardar funciones", style="BotonFuturista.TButton", command=guardar_func)
btn_guardar_func.pack(side="left", padx=5)

# Entradas rango
marco_rango = tk.Frame(ventana, bg="#0B0C10")
marco_rango.pack(pady=5)
tk.Label(marco_rango, text="X min:", fg="#66FCF1", bg="#0B0C10").pack(side="left")
entrada_xmin = tk.Entry(marco_rango, width=5)
entrada_xmin.pack(side="left", padx=2)
tk.Label(marco_rango, text="X max:", fg="#66FCF1", bg="#0B0C10").pack(side="left")
entrada_xmax = tk.Entry(marco_rango, width=5)
entrada_xmax.pack(side="left", padx=2)
tk.Label(marco_rango, text="Y min:", fg="#66FCF1", bg="#0B0C10").pack(side="left")
entrada_ymin = tk.Entry(marco_rango, width=5)
entrada_ymin.pack(side="left", padx=2)
tk.Label(marco_rango, text="Y max:", fg="#66FCF1", bg="#0B0C10").pack(side="left")
entrada_ymax = tk.Entry(marco_rango, width=5)
entrada_ymax.pack(side="left", padx=2)

# Bot√≥n graficar
btn_graficar = ttk.Button(ventana, text="Graficar", style="BotonFuturista.TButton", command=graficar_canvas)
btn_graficar.pack(pady=5)

# Canvas
canvas = tk.Canvas(ventana, width=800, height=400, bg="#0B0C10")
canvas.pack(padx=10, pady=10)

ventana.mainloop()

            </pre>
          </div>
        </div>

        <div class="right mt16"><a class="btn ghost" href="#u1" data-link>Volver a Actividades de la Unidad 1</a></div>
      </section>

      <!-- ========== U2 PLACEHOLDER ========== -->
      <section id="u2" hidden>
        <div class="section-header">
          <div class="accent" aria-hidden="true"></div>
          <div class="eyebrow">Pr√≥ximamente</div>
          <h1>Unidad 2</h1>
          <p class="desc">Interpolaci√≥n (Newton, Lagrange) e Integraci√≥n Num√©rica (Trapecio, Simpson). Se a√±adir√°n PDFs y c√≥digos correspondientes.</p>
        </div>
        <div class="right mt16"><a class="btn ghost" href="#home" data-link>Volver al inicio</a></div>
      </section>

    </div>
  </main>
</div>

<!-- Back to top -->
<a href="#home" class="btn primary to-top" id="toTop" aria-label="Volver arriba">‚Üë</a>

<script>
/* ---------- Tema claro/oscuro ---------- */
const root = document.documentElement;
const themeToggle = document.getElementById('theme');
(function initTheme(){
  const saved = localStorage.getItem('theme');
  if(saved==='light'){ root.classList.add('light'); themeToggle.checked = true; }
})();
themeToggle.addEventListener('change', ()=>{
  root.classList.toggle('light', themeToggle.checked);
  localStorage.setItem('theme', themeToggle.checked ? 'light' : 'dark');
});

/* ---------- SPA Navegaci√≥n ---------- */
const sections = [...document.querySelectorAll("section")];
const links = [...document.querySelectorAll("[data-link]")];
function show(id){
  sections.forEach(s => s.hidden = (s.id !== id));
  links.forEach(a => a.classList.toggle("active", a.getAttribute("href")==="#"+id));
  const inU1 = ["u1","u1-rec-func","u1-lineales","u1-restricciones","u1-regula","u1-newton"].includes(id);
  const btnU1 = document.getElementById("btn-u1");
  btnU1.classList.toggle("active", inU1);
  document.getElementById("u1-collapse").style.display = "block";
  window.scrollTo({top:0, behavior:"smooth"});
  localStorage.setItem('route', id);
}
links.forEach(a=>{
  a.addEventListener("click", e=>{
    e.preventDefault();
    const id = a.getAttribute("href").slice(1);
    history.pushState({id},"","#"+id);
    show(id);
  });
});
window.addEventListener("popstate", ()=>{
  const id = (location.hash||"#home").slice(1);
  show(id);
});
show(localStorage.getItem('route') || (location.hash||"#home").slice(1));

/* ---------- Colapso Unidad 1 ---------- */
const btnU1 = document.getElementById("btn-u1");
btnU1.addEventListener("click", ()=>{
  const c = document.getElementById("u1-collapse");
  const open = c.style.display !== "none";
  c.style.display = open ? "none" : "block";
  btnU1.setAttribute('aria-expanded', (!open).toString());
});

/* ---------- Saludo ---------- */
(function greet(){
  const h = new Date().getHours();
  let t = "Buenas noches, bienvenido a mi portafolio";
  if (h>=5 && h<12) t = "Buenos d√≠as, bienvenido a mi portafolio";
  else if (h>=12 && h<18) t = "Buenas tardes, bienvenido a mi portafolio";
  document.getElementById("greeting").textContent = t;
})();

/* ---------- B√∫squeda ---------- */
const q = document.getElementById('q');
q.addEventListener('input', ()=>{
  const term = q.value.trim().toLowerCase();
  document.querySelectorAll('#u1-collapse a').forEach(a=>{
    const show = a.textContent.toLowerCase().includes(term);
    a.style.display = show ? "flex" : "none";
  });
});

/* ---------- Back to top ---------- */
const toTop = document.getElementById('toTop');
window.addEventListener('scroll', ()=>{
  toTop.classList.toggle('show', window.scrollY>400);
});

/* ---------- Copiar & Descargar c√≥digo (sin √≠conos) ---------- */
function toast(msg){
  clearTimeout(window.__toastTimer);
  let t = document.getElementById("toast");
  if(!t){
    t = document.createElement("div");
    t.id = "toast";
    t.style.position="fixed"; t.style.zIndex="9999";
    t.style.right="18px"; t.style.bottom="18px";
    t.style.padding="10px 14px"; t.style.borderRadius="10px";
    t.style.background="linear-gradient(135deg, var(--brand), var(--brand-2))";
    t.style.color="#0b1020"; t.style.fontWeight="800"; t.style.boxShadow="0 12px 30px rgba(0,0,0,.25)";
    document.body.appendChild(t);
  }
  t.textContent = msg; t.style.opacity = "1"; t.style.transition="opacity .2s";
  window.__toastTimer = setTimeout(()=>t.style.opacity="0", 1800);
}
function copyFrom(sel){
  const pre = document.querySelector(sel);
  if(!pre) return;
  const code = pre.innerText.replace(/\u00A0/g,' ');
  navigator.clipboard.writeText(code).then(()=>toast("C√≥digo copiado"))
    .catch(()=>toast("No se pudo copiar"));
}
function downloadFrom(sel, filename="codigo.py"){
  const pre = document.querySelector(sel);
  if(!pre) return;
  const blob = new Blob([pre.innerText.replace(/\u00A0/g,' ')], {type:"text/x-python;charset=utf-8"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a"); a.href = url; a.download = filename; a.click();
  URL.revokeObjectURL(url); toast("Descarga iniciada");
}
document.querySelectorAll("[data-copy]").forEach(b=>{
  b.addEventListener("click", ()=>copyFrom(b.getAttribute("data-copy")));
});
document.querySelectorAll("[data-download]").forEach(b=>{
  b.addEventListener("click", ()=>downloadFrom(b.getAttribute("data-download"), b.getAttribute("data-filename")||"codigo.py"));
});

/* ---------- Atajos: [ y ] para navegar ---------- */
const routes = ["home","u1","u1-rec-func","u1-lineales","u1-restricciones","u1-regula","u1-newton","u2"];
document.addEventListener('keydown', (e)=>{
  if(e.key==='['||e.key===']'){
    e.preventDefault();
    const cur = (location.hash||"#home").slice(1);
    const idx = routes.indexOf(cur);
    const next = e.key===']' ? (idx+1) % routes.length : (idx-1+routes.length)%routes.length;
    const id = routes[next]; history.pushState({id},"","#"+id); show(id);
  }
});
</script>
</body>
</html>




